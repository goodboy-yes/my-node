# 数组

数组（Array）是一种**线性表数据结构**。它用一组**连续的内存空间**，来**存储一组具有相同类型**的数据。

线性表就是数据排成像一条线一样的结构。每个线性表上的数据最多只有前和后两个方向。其实除了数组，**链表、队列、栈**等也是线性表结构。

与它相对立的概念是**非线性表**，比如**二叉树、堆、图**等。之所以叫非线性，是因为，在非线性表中，数据之间并不是简单的前后关系。

## 随机访问

数组用一组**连续的内存空间**，来**存储一组具有相同类型**的数据，因此有一个堪称“杀手锏”的特性：“随机访问”。

计算机会给每个内存单元分配一个地址，计算机通过地址来访问内存中的数据。当计算机需要随机访问数组中的某个元素时，它会首先通过下面的寻址公式，计算出该元素存储的内存地址：

```
a[i]_address = base_address + i * data_type_size
```

其中 data_type_size 表示数组中每个元素的大小

但连续的内存空间也让数组的很多操作变得非常低效，比如要想在数组中删除、插入一个数据，为了保证连续性，就需要做大量的数据搬移工作。

## 为什么大多数编程语言中，数组要从 0 开始编号

一种说法是从数组存储的内存模型上来看，“下标”最确切的定义应该是“偏移（offset）”。前面也讲到，如果用 a 来表示数组的首地址，a[0]就是偏移为 0 的位置，也就是首地址，a[k]就表示偏移 k 个 type_size 的位置，所以计算 a[k]的内存地址只需要用这个公式

```
a[k]_address = base_address + k * data_type_size
```

不过最主要的原因可能是历史原因，C 语言设计者用 0 开始计数数组下标，之后的 Java、JavaScript 等高级语言都效仿了 C 语言
