import{_ as e,o as s,c as o,e as i}from"./app-CtA61ec0.js";const t="/my-notes/assets/node代码架构-rZPsWE5R.webp",l="/my-notes/assets/node-version-DT72B9Wa.webp",n={},a=i('<h1 id="nodejs" tabindex="-1"><a class="header-anchor" href="#nodejs"><span>NodeJs</span></a></h1><h2 id="组成" tabindex="-1"><a class="header-anchor" href="#组成"><span>组成</span></a></h2><p>Node.js 主要是由 V8、Libuv 和一些第三方库组成。</p><ul><li><p>V8 是一个 JS 引擎。但是它不仅实现了 JS 解析和执行，它还是自定义拓展。比如说我们可以通过 V8 提供一些 C++ API 去定义一些全局变量，这样话我们在 JS 里面去使用这个变量了。正是因为 V8 支持这个自定义的拓展，所以才有了 Node.js 等 JS 运行时。</p></li><li><p>Libuv 是一个跨平台的异步 IO 库。它主要的功能是它封装了各个操作系统的一些 API， 提供网络还有文件进程的这些功能。我们知道在 JS 里面是没有网络文件这些功能的，在前端时，是由浏览器提供的，而在 Node.js 里，这些功能是由 Libuv 提供的。</p></li><li><p>另外 Node.js 里面还引用了很多第三方库，比如 DNS 解析库，还有 HTTP 解析器等等。</p></li></ul><p><strong>Node.js 代码整体的架构</strong></p><p><img src="'+t+'" alt=""> Node.js 代码主要是分为三个部分，分别是 C、C++ 和 JS。</p><ul><li><p>JS 代码就是我们平时在使用的那些 JS 的模块，比方说像 http 和 fs 这些模块。</p></li><li><p>C++ 代码主要分为三个部分，第一部分主要是封装 Libuv 和第三方库的 C++ 代码，比如 net 和 fs 这些模块都会对应一个 C++ 模块，它主要是对底层的一些封装。第二部分是不依赖 Libuv 和第三方库的 C++ 代码，比方像 Buffer 模块的实现。第三部分 C++ 代码是 V8 本身的代码。</p></li><li><p>C 语言代码主要是包括 Libuv 和第三方库的代码，它们都是纯 C 语言实现的代码。</p></li></ul><h2 id="版本" tabindex="-1"><a class="header-anchor" href="#版本"><span>版本</span></a></h2><p>Node 的主版本分为奇数版本和偶数版本。每个版本发布之后会持续六个月的时间，六个月之后，奇数版本将变为 EOL 状态，而偶数版本变为 Active LTS 状态并且长期支持。所以我们在生产环境使用 Node 的时候，应该尽量使用它的 LTS 版本，而不是 EOL 的版本。</p><blockquote><p>EOL 版本：A End-Of-Life version of Node;</p><p>LTS 版本: A long-term supported version of Node</p></blockquote><p><img src="'+l+'" alt=""></p><ul><li>CURRENT：会修复 bug，增加新特性，不断改善</li><li>ACTIVE：长期稳定版本</li><li>MAINTENANCE：只会修复 bug，不会再有新的特性增加</li><li>EOL：当进度条走完，这个版本也就不再维护和支持了</li></ul><p>通过上面那张图，我们可以看到，Node 8.x 在 2020 年已经 EOL，Node 12.x 在 2021 年的时候也会进入 MAINTENANCE 状态，而 Node 10.x 在 2021 年 4、5 月的时候就会变成 EOL。</p>',13),p=[a];function d(r,c){return s(),o("div",null,p)}const h=e(n,[["render",d],["__file","index.html.vue"]]),N=JSON.parse('{"path":"/node-js/","title":"NodeJs","lang":"zh-CN","frontmatter":{},"headers":[{"level":2,"title":"组成","slug":"组成","link":"#组成","children":[]},{"level":2,"title":"版本","slug":"版本","link":"#版本","children":[]}],"git":{"updatedTime":1708503944000,"contributors":[{"name":"guokc","email":"guokc@tsintergy.com","commits":1}]},"filePathRelative":"node-js/README.md"}');export{h as comp,N as data};
