"use strict";(self.webpackChunkmy_notes=self.webpackChunkmy_notes||[]).push([[734],{3865:(e,a,r)=>{r.r(a),r.d(a,{data:()=>n});const n={key:"v-7393289b",path:"/development-practice/technical-scheme.html",title:"技术方案",lang:"zh-CN",frontmatter:{},excerpt:"",headers:[{level:2,title:"时间库",slug:"时间库",children:[{level:3,title:"Moment.js",slug:"moment-js",children:[]},{level:3,title:"Day.js",slug:"day-js",children:[]},{level:3,title:"date-fns",slug:"date-fns",children:[]}]},{level:2,title:"文件下载",slug:"文件下载",children:[{level:3,title:"FileSaver.js",slug:"filesaver-js",children:[]}]},{level:2,title:"更多NPM包",slug:"更多npm包",children:[]},{level:2,title:"网页离开时的请求发送",slug:"网页离开时的请求发送",children:[]}],filePathRelative:"development-practice/technical-scheme.md",git:{updatedTime:1631548407e3,contributors:[]}}},4638:(e,a,r)=>{r.r(a),r.d(a,{default:()=>L});var n=r(6252);const l=(0,n._)("h1",{id:"技术方案",tabindex:"-1"},[(0,n._)("a",{class:"header-anchor",href:"#技术方案","aria-hidden":"true"},"#"),(0,n.Uk)(" 技术方案")],-1),t=(0,n._)("h2",{id:"时间库",tabindex:"-1"},[(0,n._)("a",{class:"header-anchor",href:"#时间库","aria-hidden":"true"},"#"),(0,n.Uk)(" 时间库")],-1),s={id:"moment-js",tabindex:"-1"},d=(0,n._)("a",{class:"header-anchor",href:"#moment-js","aria-hidden":"true"},"#",-1),i=(0,n.Uk)(),h={href:"http://momentjs.cn/",target:"_blank",rel:"noopener noreferrer"},o=(0,n.Uk)("Moment.js"),c=(0,n._)("p",null,"最知名、最古老的 JavaScript 日期处理类库",-1),u={id:"day-js",tabindex:"-1"},_=(0,n._)("a",{class:"header-anchor",href:"#day-js","aria-hidden":"true"},"#",-1),p=(0,n.Uk)(),f={href:"https://dayjs.fenxianglu.cn/",target:"_blank",rel:"noopener noreferrer"},k=(0,n.Uk)("Day.js"),m=(0,n._)("p",null,"Day.js 是一个极简的 JavaScript 库，可以为现代浏览器解析、验证、操作和显示日期和时间，是 Moment.js 替代方案(自 2020 年 9 月起进入纯维护模式,不再开发新版本）",-1),v={id:"date-fns",tabindex:"-1"},b=(0,n._)("a",{class:"header-anchor",href:"#date-fns","aria-hidden":"true"},"#",-1),g=(0,n.Uk)(),j={href:"https://date-fns.org/",target:"_blank",rel:"noopener noreferrer"},U=(0,n.Uk)("date-fns"),x=(0,n._)("p",null,"date-fns 提供了最全面、最简单且一致的工具集，用于在浏览器和 Node.js 中操作 JavaScript 日期。",-1),y=(0,n._)("h2",{id:"文件下载",tabindex:"-1"},[(0,n._)("a",{class:"header-anchor",href:"#文件下载","aria-hidden":"true"},"#"),(0,n.Uk)(" 文件下载")],-1),N={id:"filesaver-js",tabindex:"-1"},M=(0,n._)("a",{class:"header-anchor",href:"#filesaver-js","aria-hidden":"true"},"#",-1),S=(0,n.Uk)(),W={href:"https://github.com/eligrey/FileSaver.js/",target:"_blank",rel:"noopener noreferrer"},P=(0,n.Uk)("FileSaver.js"),w=(0,n._)("p",null,"FileSaver.js 在没有原生支持 saveAs() 的浏览器上实现了 saveAs() 接口。是文件下载的标杆项目。",-1),C=(0,n._)("h2",{id:"更多npm包",tabindex:"-1"},[(0,n._)("a",{class:"header-anchor",href:"#更多npm包","aria-hidden":"true"},"#"),(0,n.Uk)(" 更多NPM包")],-1),D={href:"https://juejin.cn/post/6950584088462163982",target:"_blank",rel:"noopener noreferrer"},F=(0,n.Uk)("让我告诉你一些强无敌的 NPM 软件包"),z=(0,n._)("h2",{id:"网页离开时的请求发送",tabindex:"-1"},[(0,n._)("a",{class:"header-anchor",href:"#网页离开时的请求发送","aria-hidden":"true"},"#"),(0,n.Uk)(" 网页离开时的请求发送")],-1),A={href:"https://developer.mozilla.org/zh-CN/docs/Web/API/Navigator/sendBeacon",target:"_blank",rel:"noopener noreferrer"},B=(0,n.Uk)("Navigator.sendBeacon"),J=(0,n._)("p",null,"这个方法主要用于满足统计和诊断代码的需要，这些代码通常尝试在卸载（unload）文档之前向 web 服务器发送数据。",-1),q=(0,n._)("p",null,[(0,n.Uk)("同步的 "),(0,n._)("code",null,"XMLHttpRequest"),(0,n.Uk)(" 迫使用户代理延迟卸载文档，并使得下一个导航出现的更晚。有一些技术被用来保证数据的发送。其中一种是通过在卸载事件处理器中创建一个图片元素并设置它的 "),(0,n._)("code",null,"src"),(0,n.Uk)(" 属性的方法来延迟卸载以保证数据的发送，但会延迟卸载以保证图片的载入")],-1),H=(0,n._)("p",null,[(0,n.Uk)("使用 "),(0,n._)("code",null,"sendBeacon()"),(0,n.Uk)(" 方法会使用户代理在有机会时异步地向服务器发送数据，同时不会延迟页面的卸载或影响下一导航的载入性能。这就解决了提交分析数据时的所有的问题：数据可靠，传输异步并且不会影响下一页面的加载。此外，代码实际上还要比其他技术简单许多！")],-1),L={render:function(e,a){const r=(0,n.up)("OutboundLink");return(0,n.wg)(),(0,n.iD)(n.HY,null,[l,t,(0,n._)("h3",s,[d,i,(0,n._)("a",h,[o,(0,n.Wm)(r)])]),c,(0,n._)("h3",u,[_,p,(0,n._)("a",f,[k,(0,n.Wm)(r)])]),m,(0,n._)("h3",v,[b,g,(0,n._)("a",j,[U,(0,n.Wm)(r)])]),x,y,(0,n._)("h3",N,[M,S,(0,n._)("a",W,[P,(0,n.Wm)(r)])]),w,C,(0,n._)("blockquote",null,[(0,n._)("p",null,[(0,n._)("a",D,[F,(0,n.Wm)(r)])])]),z,(0,n._)("p",null,[(0,n._)("a",A,[B,(0,n.Wm)(r)])]),J,q,H],64)}}}}]);