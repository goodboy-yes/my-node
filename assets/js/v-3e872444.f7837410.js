"use strict";(self.webpackChunkmy_notes=self.webpackChunkmy_notes||[]).push([[868],{4894:(n,s,a)=>{a.r(s),a.d(s,{data:()=>p});const p={key:"v-3e872444",path:"/css/aspect-ratio.html",title:"aspect-ratio",lang:"zh-CN",frontmatter:{},excerpt:"",headers:[{level:2,title:"Padding-Top Hack",slug:"padding-top-hack",children:[]},{level:2,title:"aspect-ratio 属性",slug:"aspect-ratio-属性",children:[]}],filePathRelative:"css/aspect-ratio.md",git:{updatedTime:1638892245e3,contributors:[]}}},634:(n,s,a)=>{a.r(s),a.d(s,{default:()=>r});var p=a(6252);const t=(0,p.uE)('<h1 id="aspect-ratio" tabindex="-1"><a class="header-anchor" href="#aspect-ratio" aria-hidden="true">#</a> aspect-ratio</h1><p>我们过去是通过在 CSS 中使用百分比 padding 来实现宽高比的，如今主要的浏览器中都得到了 aspect-ratio css 属性的原生支持。</p><h2 id="padding-top-hack" tabindex="-1"><a class="header-anchor" href="#padding-top-hack" aria-hidden="true">#</a> Padding-Top Hack</h2><p>当一个元素有一个垂直百分比的 padding 时，它将基于它的父级宽度</p><p>当标题有 padding-top: 50%时，该值是根据其父元素的宽度来计算的。假如父元素的宽度是 200px，所以 padding-top 会变成 100px。</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>content<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://source.unsplash.com/random/400x300<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">.container</span> <span class="token punctuation">{</span>\n  <span class="token property">margin</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>\n  <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>\n  <span class="token property">padding-top</span><span class="token punctuation">:</span> 75%<span class="token punctuation">;</span>\n  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n<span class="token selector">.container img</span> <span class="token punctuation">{</span>\n  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>\n  <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>\n  <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>\n  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>\n  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>\n  <span class="token property">object-fit</span><span class="token punctuation">:</span> cover<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>通过上述，我们定义了缩略图包装器<code>container</code>的高度取决于其宽度。另外，图片是绝对定位的，它有它的父元素的全部宽度和高度，有 <code>object-fit: cover</code>，用于上传不同大小的图片的情况</p>',8),e={href:"https://codepen.io/goodboy-yes/pen/xxrejJe?editors=1100",target:"_blank",rel:"noopener noreferrer"},c=(0,p.Uk)("codepen：Padding-Top Hack"),o=(0,p.uE)('<h2 id="aspect-ratio-属性" tabindex="-1"><a class="header-anchor" href="#aspect-ratio-属性" aria-hidden="true">#</a> aspect-ratio 属性</h2><p>如今 Chrome、Safari TP 和 Firefox Nightly 都支持 aspect-ratioCSS 属性。最近，它在 Safari 15 的官方版本中得到支持。</p><p>之前的例子我们可以这样改写它</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>content<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://source.unsplash.com/random/400x300<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">.container</span> <span class="token punctuation">{</span>\n  <span class="token property">margin</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>\n  <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>\n  <span class="token property">aspect-ratio</span><span class="token punctuation">:</span> 16/9<span class="token punctuation">;</span>\n  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n<span class="token selector">.container img</span> <span class="token punctuation">{</span>\n  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>\n  <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>\n  <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>\n  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>\n  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>\n  <span class="token property">object-fit</span><span class="token punctuation">:</span> cover<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div>',5),l={href:"https://codepen.io/goodboy-yes/pen/vYZMQKr?editors=1100",target:"_blank",rel:"noopener noreferrer"},u=(0,p.Uk)("codepen：aspect-ratio"),i=(0,p.uE)('<p>我们可以通过使用 CSS @supports 和 CSS 变量来使用 CSS aspect-ratio。</p><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">.card</span> <span class="token punctuation">{</span>\n  <span class="token property">--aspect-ratio</span><span class="token punctuation">:</span> 16/9<span class="token punctuation">;</span>\n  <span class="token property">padding-top</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token punctuation">(</span>1 / <span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--aspect-ratio<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> \\* 100%<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token atrule"><span class="token rule">@supports</span> <span class="token punctuation">(</span><span class="token property">aspect-ratio</span><span class="token punctuation">:</span> 1<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>\n  <span class="token selector">.card</span> <span class="token punctuation">{</span>\n    <span class="token property">aspect-ratio</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--aspect-ratio<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token property">padding-top</span><span class="token punctuation">:</span> initial<span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>你是否曾经需要创建一个应该是响应式的圆形元素？CSS aspect-ratio 是这种使用情况的最佳选择。</p><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">.person</span> <span class="token punctuation">{</span>\n  <span class="token property">width</span><span class="token punctuation">:</span> 180px<span class="token punctuation">;</span>\n  <span class="token property">aspect-ratio</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>如果宽高比的两个值相同，我们可以写成 aspect-ratio: 1 而不是 aspect-ratio: 1/1。如果你使用 flexbox 或 grid，宽度将是可选的，它可以被添加作为一个最小值。</p>',5),r={render:function(n,s){const a=(0,p.up)("OutboundLink");return(0,p.wg)(),(0,p.iD)(p.HY,null,[t,(0,p._)("blockquote",null,[(0,p._)("p",null,[(0,p._)("a",e,[c,(0,p.Wm)(a)])])]),o,(0,p._)("blockquote",null,[(0,p._)("p",null,[(0,p._)("a",l,[u,(0,p.Wm)(a)])])]),i],64)}}}}]);