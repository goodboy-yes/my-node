"use strict";(self.webpackChunkmy_notes=self.webpackChunkmy_notes||[]).push([[126],{2924:(n,s,a)=>{a.r(s),a.d(s,{data:()=>e});const e={key:"v-852f40ca",path:"/js/code-style.html",title:"ä»£ç é£æ ¼",lang:"zh-CN",frontmatter:{},excerpt:"",headers:[{level:2,title:"ç¤¾åŒºä»£ç é£æ ¼æŒ‡å—",slug:"ç¤¾åŒºä»£ç é£æ ¼æŒ‡å—",children:[]},{level:2,title:"æ— åˆ†å·çš„ä»£ç é£æ ¼",slug:"æ— åˆ†å·çš„ä»£ç é£æ ¼",children:[]},{level:2,title:"ææ‡‚ editorconfigã€ ESLint å’Œ Prettier",slug:"ææ‡‚-editorconfigã€-eslint-å’Œ-prettier",children:[{level:3,title:"editorconfig",slug:"editorconfig",children:[]},{level:3,title:"Prettier",slug:"prettier",children:[]},{level:3,title:"ESLint",slug:"eslint",children:[]},{level:3,title:"è§£å†³ Prettier å’Œ ESLint çš„å†²çª",slug:"è§£å†³-prettier-å’Œ-eslint-çš„å†²çª",children:[]},{level:3,title:"é›†æˆ husky å’Œ lint-staged",slug:"é›†æˆ-husky-å’Œ-lint-staged",children:[]}]}],filePathRelative:"js/code-style.md",git:{updatedTime:1637682105e3,contributors:[]}}},5143:(n,s,a)=>{a.r(s),a.d(s,{default:()=>N});var e=a(6252);const p=(0,e._)("h1",{id:"ä»£ç é£æ ¼",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#ä»£ç é£æ ¼","aria-hidden":"true"},"#"),(0,e.Uk)(" ä»£ç é£æ ¼")],-1),t=(0,e._)("h2",{id:"ç¤¾åŒºä»£ç é£æ ¼æŒ‡å—",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#ç¤¾åŒºä»£ç é£æ ¼æŒ‡å—","aria-hidden":"true"},"#"),(0,e.Uk)(" ç¤¾åŒºä»£ç é£æ ¼æŒ‡å—")],-1),o=(0,e._)("p",null,"ä¸ºäº†çº¦å®šå¤§å®¶çš„ä»£ç é£æ ¼ï¼Œåœ¨ç¤¾åŒºä¸­è¯ç”Ÿäº†ä¸€äº›æ¯”è¾ƒè§„èŒƒçš„ä»£ç é£æ ¼æŒ‡å—ï¼š",-1),l={href:"https://github.com/airbnb/javascript",target:"_blank",rel:"noopener noreferrer"},r=(0,e.Uk)("Airbnb"),c={href:"https://github.com/standard/standard",target:"_blank",rel:"noopener noreferrer"},i=(0,e.Uk)("Standard"),u={href:"https://google.github.io/styleguide/jsguide.html",target:"_blank",rel:"noopener noreferrer"},b=(0,e.Uk)("Google"),k=(0,e.uE)('<p><strong>è¿™ä¸‰ä»½ JavaScript ä»£ç é£æ ¼æŒ‡å—å€¼å¾—æˆ‘ä»¬åå¤å­¦ä¹ ï¼ŒæŒæ¡åï¼Œç¼–ç¨‹èƒ½åŠ›èƒ½ä¸Šä¸€å¤§å°é˜¶ã€‚</strong></p><h2 id="æ— åˆ†å·çš„ä»£ç é£æ ¼" tabindex="-1"><a class="header-anchor" href="#æ— åˆ†å·çš„ä»£ç é£æ ¼" aria-hidden="true">#</a> æ— åˆ†å·çš„ä»£ç é£æ ¼</h2><p>å½“é‡‡ç”¨äº†æ— åˆ†å·çš„ä»£ç é£æ ¼æ—¶ï¼Œä»¥(ã€[ã€`å¼€å¤´éœ€è¦åœ¨å‰é¢è¡¥ä¸Šä¸€ä¸ªåˆ†å·ç”¨ä»¥é¿å…ä¸€äº›è¯­æ³•è§£æé”™è¯¯ã€‚æ‰€ä»¥ä½ ä¼šå‘ç°åœ¨ä¸€äº›ç¬¬ä¸‰æ–¹çš„ä»£ç ä¸­èƒ½çœ‹åˆ°ä¸€ä¸Šæ¥å°±ä»¥ä¸€ä¸ª ; å¼€å¤´ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">hello</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="ææ‡‚-editorconfigã€-eslint-å’Œ-prettier" tabindex="-1"><a class="header-anchor" href="#ææ‡‚-editorconfigã€-eslint-å’Œ-prettier" aria-hidden="true">#</a> ææ‡‚ editorconfigã€ ESLint å’Œ Prettier</h2><h3 id="editorconfig" tabindex="-1"><a class="header-anchor" href="#editorconfig" aria-hidden="true">#</a> editorconfig</h3><h4 id="å®šä¹‰" tabindex="-1"><a class="header-anchor" href="#å®šä¹‰" aria-hidden="true">#</a> å®šä¹‰</h4><p>å¸®åŠ©é¡¹ç›®ä¸­ä½¿ç”¨ä¸åŒ IDE å·¥å…·çš„å¼€å‘è€…ï¼Œç»´æŒå›ºå®šç»Ÿä¸€çš„ä»£ç é£æ ¼ã€‚ä¾‹å¦‚æŒ‰ Tab é”®å…‰æ ‡ç¼©è¿›å¤šå°‘ç©ºæ ¼æ•°ç­‰</p><h4 id="ä½¿ç”¨-vscode" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨-vscode" aria-hidden="true">#</a> ä½¿ç”¨ï¼ˆVSCodeï¼‰</h4><p>å®‰è£…<code>EditorConfig for VS Code</code>æ’ä»¶</p>',10),d=(0,e.Uk)("æ·»åŠ é…ç½®æ–‡ä»¶ï¼Œåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹å¢åŠ  "),m=(0,e._)("code",null,".editorconfig",-1),g=(0,e.Uk)(" æ–‡ä»¶ï¼Œä»¥ä¸‹æ˜¯é…ç½®ç¤ºä¾‹ï¼Œæ›´å¤šé…ç½®è¯¦æƒ…æŸ¥çœ‹ "),v={href:"http://editorconfig.org",target:"_blank",rel:"noopener noreferrer"},h=(0,e.Uk)("http://editorconfig.org"),f=(0,e.uE)('<div class="language-editorconfig ext-editorconfig line-numbers-mode"><pre class="language-editorconfig"><code><span class="token comment"># è¡¨ç¤ºæ˜¯æœ€é¡¶å±‚çš„ EditorConfig é…ç½®æ–‡ä»¶</span>\n<span class="token property">root</span> <span class="token value string"><span class="token punctuation">=</span> true</span>\n\n<span class="token section keyword"><span class="token punctuation">[</span><span class="token operator">*</span><span class="token punctuation">]</span></span> <span class="token comment"># è¡¨ç¤ºæ‰€æœ‰æ–‡ä»¶é€‚ç”¨</span>\n<span class="token property">charset</span> <span class="token value string"><span class="token punctuation">=</span> utf-8 </span><span class="token comment"># è®¾ç½®æ–‡ä»¶å­—ç¬¦é›†ä¸º utf-8</span>\n<span class="token property">indent_style</span> <span class="token value string"><span class="token punctuation">=</span> space </span><span class="token comment"># ç¼©è¿›é£æ ¼ï¼ˆtab | spaceï¼‰</span>\n<span class="token property">indent_size</span> <span class="token value string"><span class="token punctuation">=</span> 2 </span><span class="token comment"># ç¼©è¿›å¤§å°</span>\n<span class="token property">end_of_line</span> <span class="token value string"><span class="token punctuation">=</span> lf </span><span class="token comment"># æ§åˆ¶æ¢è¡Œç±»å‹(lf | cr | crlf)</span>\n<span class="token property">trim_trailing_whitespace</span> <span class="token value string"><span class="token punctuation">=</span> true </span><span class="token comment"># å»é™¤è¡Œé¦–çš„ä»»æ„ç©ºç™½å­—ç¬¦</span>\n<span class="token property">insert_final_newline</span> <span class="token value string"><span class="token punctuation">=</span> true </span><span class="token comment"># å§‹ç»ˆåœ¨æ–‡ä»¶æœ«å°¾æ’å…¥ä¸€ä¸ªæ–°è¡Œ</span>\n\n<span class="token section keyword"><span class="token punctuation">[</span><span class="token operator">*</span>.md<span class="token punctuation">]</span></span> <span class="token comment"># è¡¨ç¤ºä»… md æ–‡ä»¶é€‚ç”¨ä»¥ä¸‹è§„åˆ™</span>\n<span class="token property">max_line_length</span> <span class="token value string"><span class="token punctuation">=</span> off</span>\n<span class="token property">trim_trailing_whitespace</span> <span class="token value string"><span class="token punctuation">=</span> false</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>è™½ç„¶æ ¼å¼åŒ–çš„é…ç½®å‚æ•°å¾ˆå°‘ï¼Œä½†æ˜¯å®ƒè¿˜æ˜¯éå¸¸æœ‰å¿…è¦å­˜åœ¨çš„</p><ul><li>èƒ½å¤Ÿåœ¨ä¸åŒçš„ç¼–è¾‘å™¨å’Œ IDE ä¸­ä¿æŒä¸€è‡´çš„ä»£ç é£æ ¼ï¼›</li><li>é…åˆæ’ä»¶æ‰“å¼€æ–‡ä»¶å³è‡ªåŠ¨æ ¼å¼åŒ–ï¼Œéå¸¸æ–¹ä¾¿</li><li>æ”¯æŒæ ¼å¼åŒ–çš„æ–‡ä»¶ç±»å‹å¾ˆå¤šï¼›</li></ul><h3 id="prettier" tabindex="-1"><a class="header-anchor" href="#prettier" aria-hidden="true">#</a> Prettier</h3><h4 id="å®šä¹‰-1" tabindex="-1"><a class="header-anchor" href="#å®šä¹‰-1" aria-hidden="true">#</a> å®šä¹‰</h4><p>ä¸€æ¬¾å¼ºå¤§çš„ä»£ç æ ¼å¼åŒ–å·¥å…·ï¼Œæ”¯æŒ <code>JavaScriptã€TypeScriptã€CSSã€SCSSã€Lessã€JSXã€Angularã€Vueã€GraphQLã€JSONã€Markdown</code> ç­‰è¯­è¨€ã€‚Prettier å…³æ³¨<strong>ä»£ç æ ¼å¼</strong>é—®é¢˜ï¼Œå¦‚ä½¿ç”¨å•å¼•å·è¿˜æ˜¯åŒå¼•å·ã€å•è¡Œé•¿åº¦ç­‰</p><h4 id="ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨" aria-hidden="true">#</a> ä½¿ç”¨</h4><p>å®‰è£… Prettier</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> i prettier -D\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>å®‰è£…<strong>Prettier - Code formatter</strong>æ’ä»¶ï¼ˆVSCodeï¼‰</p>',10),j=(0,e.Uk)("åˆ›å»º Prettier é…ç½®æ–‡ä»¶ï¼Œä»¥ä¸‹æ˜¯é…ç½®ç¤ºä¾‹ï¼Œæ›´å¤šé…ç½®è¯¦æƒ…æŸ¥çœ‹ "),S={href:"https://prettier.io/docs/en/options.html",target:"_blank",rel:"noopener noreferrer"},x=(0,e.Uk)("Prettier-Options"),y=(0,e.Uk)(" ã€‚"),E=(0,e.uE)('<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">{</span>\n  printWidth<span class="token operator">:</span> <span class="token number">80</span><span class="token punctuation">,</span>                    <span class="token comment">//ï¼ˆé»˜è®¤å€¼ï¼‰å•è¡Œä»£ç è¶…å‡º 80 ä¸ªå­—ç¬¦è‡ªåŠ¨æ¢è¡Œ</span>\n  tabWidth<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>                       <span class="token comment">//ï¼ˆé»˜è®¤å€¼ï¼‰ä¸€ä¸ª tab é”®ç¼©è¿›ç›¸å½“äº 2 ä¸ªç©ºæ ¼</span>\n  useTabs<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>                     <span class="token comment">// è¡Œç¼©è¿›ä½¿ç”¨ tab é”®ä»£æ›¿ç©ºæ ¼</span>\n  semi<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>                       <span class="token comment">//ï¼ˆé»˜è®¤å€¼ï¼‰è¯­å¥çš„æœ«å°¾åŠ ä¸Šåˆ†å·</span>\n  singleQuote<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>                 <span class="token comment">// ä½¿ç”¨å•å¼•å·</span>\n  quoteProps<span class="token operator">:</span> <span class="token string">&#39;as-needed&#39;</span><span class="token punctuation">,</span>           <span class="token comment">//ï¼ˆé»˜è®¤å€¼ï¼‰ä»…ä»…å½“å¿…é¡»çš„æ—¶å€™æ‰ä¼šåŠ ä¸ŠåŒå¼•å·</span>\n  jsxSingleQuote<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>              <span class="token comment">// åœ¨ JSX ä¸­ä½¿ç”¨å•å¼•å·</span>\n  trailingComma<span class="token operator">:</span> <span class="token string">&#39;all&#39;</span><span class="token punctuation">,</span>              <span class="token comment">// ä¸ç”¨åœ¨å¤šè¡Œçš„é€—å·åˆ†éš”çš„å¥æ³•ç»“æ„çš„æœ€åä¸€è¡Œçš„æœ«å°¾åŠ ä¸Šé€—å·, &quot;none&quot;:å°¾éšé€—å·</span>\n  bracketSpacing<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>              <span class="token comment">//ï¼ˆé»˜è®¤å€¼ï¼‰åœ¨æ‹¬å·å’Œå¯¹è±¡çš„æ–‡å­—ä¹‹é—´åŠ ä¸Šä¸€ä¸ªç©ºæ ¼</span>\n  jsxBracketSameLine<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>          <span class="token comment">// æŠŠ &gt; ç¬¦å·æ”¾åœ¨å¤šè¡Œçš„ JSX å…ƒç´ çš„æœ€åä¸€è¡Œ</span>\n  arrowParens<span class="token operator">:</span> <span class="token string">&#39;avoid&#39;</span><span class="token punctuation">,</span>              <span class="token comment">// å½“ç®­å¤´å‡½æ•°ä¸­åªæœ‰ä¸€ä¸ªå‚æ•°çš„æ—¶å€™å¯ä»¥å¿½ç•¥æ‹¬å¼§</span>\n  htmlWhitespaceSensitivity<span class="token operator">:</span> <span class="token string">&#39;ignore&#39;</span><span class="token punctuation">,</span> <span class="token comment">// vue template ä¸­çš„ç»“æŸæ ‡ç­¾ç»“å°¾å°–æ‹¬å·æ‰åˆ°äº†ä¸‹ä¸€è¡Œ</span>\n  vueIndentScriptAndStyle<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>    <span class="token comment">//ï¼ˆé»˜è®¤å€¼ï¼‰å¯¹äº .vue æ–‡ä»¶ï¼Œä¸ç¼©è¿› &lt;script&gt; å’Œ &lt;style&gt; é‡Œçš„å†…å®¹</span>\n  embeddedLanguageFormatting<span class="token operator">:</span> <span class="token string">&#39;auto&#39;</span><span class="token punctuation">,</span> <span class="token comment">//ï¼ˆé»˜è®¤å€¼ï¼‰å…è®¸è‡ªåŠ¨æ ¼å¼åŒ–å†…åµŒçš„ä»£ç å—</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>  # å°†æ ¼å¼åŒ–å½“å‰ç›®å½•åŠå­ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶\n  npx prettier --write .\n\n  //æ£€æŸ¥æŸä¸ªæ–‡ä»¶æ˜¯å¦å·²ç»æ ¼å¼åŒ–\n  npx prettier --check src/main.js\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>å¦‚æœæœ‰äº›æ–‡ä»¶ä¸æƒ³è¢« Prettier æ ¼å¼åŒ–ï¼Œå¯ä»¥å°†å…¶å†™å…¥åˆ° .prettierignore é‡Œï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>build<span class="token operator">/</span>\n<span class="token keyword">package</span><span class="token punctuation">.</span>json\ntest<span class="token comment">/*.*\n</span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="eslint" tabindex="-1"><a class="header-anchor" href="#eslint" aria-hidden="true">#</a> ESLint</h3><h4 id="å®šä¹‰-2" tabindex="-1"><a class="header-anchor" href="#å®šä¹‰-2" aria-hidden="true">#</a> å®šä¹‰</h4><p><strong>ESLint</strong>æ˜¯ä¸€æ¬¾ç”¨äºæŸ¥æ‰¾å¹¶æŠ¥å‘Šä»£ç ä¸­é—®é¢˜çš„å·¥å…·ï¼Œå…³æ³¨ç‚¹æ˜¯<strong>ä»£ç è´¨é‡</strong>å’Œ<strong>ä»£ç æ ¼å¼</strong>ï¼Œå¯ä»¥è¿›è¡Œé”™è¯¯æç¤ºå’Œè‡ªåŠ¨ä¿®å¤ï¼Œå…¶æ ¸å¿ƒæ˜¯é€šè¿‡å¯¹ä»£ç è§£æå¾—åˆ°çš„ ASTï¼ˆAbstract Syntax Tree æŠ½è±¡è¯­æ³•æ ‘ï¼‰è¿›è¡Œæ¨¡å¼åŒ¹é…ï¼Œæ¥åˆ†æä»£ç è¾¾åˆ°æ£€æŸ¥ä»£ç è´¨é‡å’Œé£æ ¼é—®é¢˜çš„èƒ½åŠ›ã€‚</p><p><strong>ä»£ç è´¨é‡é—®é¢˜ï¼šä½¿ç”¨æ–¹å¼æœ‰å¯èƒ½æœ‰é—®é¢˜(problematic patterns)</strong>ï¼Œå¦‚ç¦æ­¢æœªä½¿ç”¨çš„å˜é‡ã€ç¦æ­¢ä¸å¿…è¦çš„å‡½æ•°ç»‘å®šã€å…¨å±€å˜é‡å£°æ˜ç­‰é—®é¢˜</p><p><strong>ä»£ç é£æ ¼é—®é¢˜ï¼šé£æ ¼ä¸ç¬¦åˆä¸€å®šè§„åˆ™ (doesnâ€™t adhere to certain style guidelines)</strong>ï¼Œå¦‚å•åŒå¼•å·ï¼Œæœ«å°¾åˆ†å·ç­‰</p><p><strong>è§£æå™¨</strong></p><p>ESLint çš„è§£æå™¨ï¼Œæ—©æœŸçš„æ—¶å€™ç”¨çš„æ˜¯ <code>Esprima</code>ï¼Œåé¢åŸºäº <code>Esprima v1.2.2</code> ç‰ˆæœ¬å¼€å‘äº†ä¸€ä¸ªæ–°çš„è§£æå™¨ <code>Espree</code>ï¼Œå¹¶ä¸”æŠŠå®ƒå½“åšé»˜è®¤è§£æå™¨ã€‚</p><p>é™¤äº†ä½¿ç”¨ ESLint è‡ªå¸¦çš„è§£æå™¨å¤–ï¼Œè¿˜å¯ä»¥æŒ‡å®šå…¶ä»–è§£æå™¨ï¼š</p><ul><li><code>@babel/eslint-parser</code>ï¼šä½¿ Babel å’Œ ESLint å…¼å®¹ï¼Œå¯¹ä¸€äº› Babel è¯­æ³•æä¾›æ”¯æŒï¼›</li><li><code>@typescript-eslint/parser</code>ï¼šTSLint è¢«å¼ƒç”¨åï¼ŒTypeScript æä¾›äº†æ­¤è§£æå™¨ç”¨äºå°†å…¶ä¸ ESTree å…¼å®¹ï¼Œä½¿ ESLint å¯¹ TypeScript è¿›è¡Œæ”¯æŒï¼›</li></ul><p>ä¸ºé¡¹ç›®æŒ‡å®šæŸä¸ªé€‰æ‹©å™¨çš„åŸåˆ™æ˜¯ä»€ä¹ˆï¼Ÿ</p><ul><li>å¦‚æœä½ çš„é¡¹ç›®ç”¨åˆ°äº†æ¯”è¾ƒæ–°çš„ ES è¯­æ³•ï¼Œæ¯”å¦‚ ES2021 çš„ Promise.any()ï¼Œé‚£å°±å¯ä»¥æŒ‡å®š @babel/eslint-parser ä¸ºè§£æå™¨ï¼›</li><li>å¦‚æœé¡¹ç›®æ˜¯åŸºäº TS å¼€å‘çš„ï¼Œé‚£å°±ä½¿ç”¨ @typescript-eslint/parserï¼›</li></ul><p><strong>ç¯å¢ƒ env</strong></p><p>æŒ‡å®šä¸åŒçš„ç¯å¢ƒå¯ä»¥ç»™å¯¹åº”ç¯å¢ƒä¸‹æä¾›é¢„è®¾çš„å…¨å±€å˜é‡ã€‚æ¯”å¦‚è¯´åœ¨ browser ç¯å¢ƒä¸‹ï¼Œå¯ä»¥ä½¿ç”¨ window å…¨å±€å˜é‡ï¼›åœ¨ node ç¯å¢ƒä¸‹ï¼Œå¯ä»¥ä½¿ç”¨ process å…¨å±€å˜é‡ç­‰ï¼›</p>',17),_={href:"https://eslint.org/docs/user-guide/configuring/language-options#specifying-environments",target:"_blank",rel:"noopener noreferrer"},L=(0,e.Uk)("å®Œæ•´çš„ç¯å¢ƒåˆ—è¡¨"),q=(0,e.uE)('<ul><li>browserï¼šæµè§ˆå™¨å…¨å±€å˜é‡ï¼›</li><li>nodeï¼šNode.js å…¨å±€å˜é‡å’Œä½œç”¨åŸŸï¼›</li><li>es6ï¼šes6 ä¸­é™¤äº†æ¨¡å—ä¹‹å¤–çš„å…¶ä»–ç‰¹æ€§ï¼ŒåŒæ—¶å°†è‡ªåŠ¨è®¾ç½® parserOptions.ecmaVersion å‚æ•°ä¸º 6ï¼›ä»¥æ­¤ç±»æ¨ - ES2017 æ˜¯ 7ï¼Œè€Œ ES2021 æ˜¯ 12ï¼›</li><li>es2017ï¼šparserOptions.ecmaVersion ä¸º 8ï¼›</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">{</span>\n    env<span class="token operator">:</span> <span class="token punctuation">{</span>\n        browser<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n        node<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n        es6<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n        commonjs<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n        mocha<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n        jquery<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><strong>å…¨å±€å˜é‡ globals</strong></p><p>ESLint çš„ä¸€äº›æ ¸å¿ƒè§„åˆ™ä¾èµ–äºå¯¹ä»£ç åœ¨è¿è¡Œæ—¶å¯ç”¨çš„å…¨å±€å˜é‡çš„äº†è§£ã€‚ç”±äºè¿™äº›åœ¨ä¸åŒç¯å¢ƒä¹‹é—´å¯èƒ½ä¼šæœ‰å¾ˆå¤§å·®å¼‚ï¼Œå¹¶ä¸”åœ¨è¿è¡Œæ—¶ä¼šè¿›è¡Œä¿®æ”¹ï¼Œå› æ­¤ ESLint ä¸ä¼šå‡è®¾ä½ çš„æ‰§è¡Œç¯å¢ƒä¸­å­˜åœ¨å“ªäº›å…¨å±€å˜é‡ã€‚</p><p>å¦‚æœä½ æƒ³ä½¿ç”¨è¿™äº›å…¨å±€å˜é‡ï¼Œé‚£å°±å¯ä»¥é€šè¿‡ globals æ¥æŒ‡å®šã€‚æ¯”å¦‚åœ¨ <code>react .eslintrc.js</code>é‡Œå°±æŠŠ <code>spyOnDev</code>ã€ <code>spyOnProd</code> ç­‰å˜é‡æŒ‚åœ¨äº† global ä¸‹ä½œä¸ºå…¨å±€å˜é‡ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">{</span>\n    globals<span class="token operator">:</span> <span class="token punctuation">{</span>\n        spyOnDev<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n        spyOnProd<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>falseã€readableã€readonly è¿™ 3 ä¸ªæ˜¯ç­‰ä»·çš„ï¼Œè¡¨ç¤ºå˜é‡åªå¯è¯»ä¸å¯å†™ï¼›</p><p>trueã€writeableã€writable è¿™ 3 ä¸ªæ˜¯ç­‰ä»·çš„ï¼Œè¡¨ç¤ºå˜é‡å¯è¯»å¯å†™ï¼›</p><p><strong>æ‰©å±• extends</strong></p><p>å®é™…é¡¹ç›®ä¸­é…ç½®è§„åˆ™æ—¶é€šå¸¸çš„åšæ³•æ˜¯ä½¿ç”¨ä¸šå†…å¤§å®¶æ™®é€šä½¿ç”¨çš„ã€éµå¾ªçš„ç¼–ç è§„èŒƒï¼›ç„¶åé€šè¿‡ extends å»å¼•å…¥è¿™äº›è§„èŒƒã€‚</p><p>extends é…ç½®çš„æ—¶å€™æ¥å—å­—ç¬¦ä¸²æˆ–è€…æ•°ç»„ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">{</span>\n    <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span>\n        <span class="token string">&#39;eslint:recommended&#39;</span><span class="token punctuation">,</span>\n        <span class="token string">&#39;plugin:vue/essential&#39;</span><span class="token punctuation">,</span>\n        <span class="token string">&#39;eslint-config-standard&#39;</span><span class="token punctuation">,</span> <span class="token comment">// å¯ä»¥ç¼©å†™æˆ &#39;standard&#39;</span>\n        <span class="token string">&#39;@vue/prettier&#39;</span><span class="token punctuation">,</span>\n        <span class="token string">&#39;./node_modules/coding-standard/.eslintrc-es6&#39;</span>\n    <span class="token punctuation">]</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>extends æ”¯æŒçš„é…ç½®ç±»å‹å¯ä»¥æ˜¯ä»¥ä¸‹å‡ ç§</p><ul><li>eslint å¼€å¤´çš„ï¼šæ˜¯ ESLint å®˜æ–¹çš„æ‰©å±•ï¼›</li><li>plugin å¼€å¤´çš„ï¼šæ˜¯æ’ä»¶ç±»å‹æ‰©å±•ï¼Œæ¯”å¦‚ plugin:vue/essentialï¼›</li><li>eslint-config å¼€å¤´çš„ï¼šæ¥è‡ª npm åŒ…ï¼Œä½¿ç”¨æ—¶å¯ä»¥çœç•¥å‰ç¼€ eslint-config-ï¼Œæ¯”å¦‚ä¸Šé¢çš„å¯ä»¥ç›´æ¥å†™æˆ standardï¼›</li><li>@å¼€å¤´çš„ï¼šæ‰©å±•å’Œ eslint-config ä¸€æ ·ï¼Œåªæ˜¯åœ¨ npm åŒ…ä¸Šé¢åŠ äº†ä¸€å±‚ä½œç”¨åŸŸ scopeï¼›</li><li>ä¸€ä¸ªæ‰§è¡Œé…ç½®æ–‡ä»¶çš„ç›¸å¯¹è·¯å¾„æˆ–ç»å¯¹è·¯å¾„ï¼›</li></ul><p>å¸¸ç”¨çš„ã€æ¯”è¾ƒè‘—åçš„æ‰©å±•:</p><ul><li><code>eslint:recommendedï¼šESLint</code> å†…ç½®çš„æ¨èè§„åˆ™ï¼Œå³ ESLint Rules åˆ—è¡¨ä¸­æ‰“äº†é’©çš„é‚£äº›è§„åˆ™ï¼›</li><li><code>eslint:allï¼šESLint</code> å†…ç½®çš„æ‰€æœ‰è§„åˆ™ï¼›</li><li><code>eslint-config-standard</code>ï¼šstandard çš„ JS è§„èŒƒï¼›</li><li><code>eslint-config-prettier</code>ï¼šå…³é—­å’Œ ESLint ä¸­ä»¥åŠå…¶ä»–æ‰©å±•ä¸­æœ‰å†²çªçš„è§„åˆ™ï¼›</li><li><code>eslint-config-airbnb-base</code>ï¼šairbab çš„ JS è§„èŒƒï¼›</li><li><code>eslint-config-alloy</code>ï¼šè…¾è®¯ AlloyTeam å‰ç«¯å›¢é˜Ÿå‡ºå“ï¼Œå¯ä»¥å¾ˆå¥½çš„é’ˆå¯¹ä½ é¡¹ç›®çš„æŠ€æœ¯æ ˆè¿›è¡Œé…ç½®é€‰æ‹©ï¼Œæ¯”å¦‚å¯ä»¥é€‰ Reactã€Vueï¼ˆç°å·²æ”¯æŒ Vue 3.0ï¼‰ã€TypeScript ç­‰ï¼›</li></ul><p><strong>æ’ä»¶ plugins</strong></p><p>ESLint è™½ç„¶å¯ä»¥å®šä¹‰å¾ˆå¤šçš„ rulesï¼Œä»¥åŠé€šè¿‡ extends æ¥å¼•å…¥æ›´å¤šçš„è§„åˆ™ï¼Œä½†æ˜¯åªæ˜¯æ£€æŸ¥ JS è¯­æ³•ï¼Œæ— æ³•æ£€æŸ¥ Vue ä¸­çš„ template æˆ–è€… React ä¸­çš„ jsxï¼Œæ‰€ä»¥å¼•å…¥æ’ä»¶çš„ç›®çš„å°±æ˜¯ä¸ºäº†å¢å¼º ESLint çš„æ£€æŸ¥èƒ½åŠ›å’ŒèŒƒå›´ã€‚</p><p>ESLint ç›¸å…³çš„æ’ä»¶çš„å‘½åå½¢å¼æœ‰ 2 ç§ï¼šä¸å¸¦å‘½åç©ºé—´çš„å’Œå¸¦å‘½åç©ºé—´çš„ï¼Œæ¯”å¦‚ï¼š</p><ul><li>eslint-plugin- å¼€å¤´çš„å¯ä»¥çœç•¥è¿™éƒ¨åˆ†å‰ç¼€ï¼›</li><li>@/ å¼€å¤´çš„ï¼›</li></ul><p>å½“éœ€è¦åŸºäºæ’ä»¶è¿›è¡Œ extends å’Œ rules çš„é…ç½®çš„æ—¶å€™ï¼Œéœ€è¦åŠ ä¸Šæ’ä»¶çš„å¼•ç”¨</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">{</span>\n    plugins<span class="token operator">:</span> <span class="token punctuation">[</span>\n        <span class="token string">&#39;jquery&#39;</span><span class="token punctuation">,</span>   <span class="token comment">// æ˜¯æŒ‡eslint-plugin-jquery</span>\n        <span class="token string">&#39;@foo/foo&#39;</span><span class="token punctuation">,</span> <span class="token comment">// æ˜¯æŒ‡@foo/eslint-plugin-foo</span>\n        <span class="token string">&#39;@bar&#39;</span><span class="token punctuation">,</span>      <span class="token comment">// æ˜¯æŒ‡@bar/eslint-plugin</span>\n    <span class="token punctuation">]</span><span class="token punctuation">,</span>\n    <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span>\n        <span class="token string">&#39;plugin:jquery/recommended&#39;</span><span class="token punctuation">,</span>\n        <span class="token string">&#39;plugin:@foo/foo/recommended&#39;</span><span class="token punctuation">,</span>\n        <span class="token string">&#39;plugin:@bar/recommended&#39;</span>\n    <span class="token punctuation">]</span><span class="token punctuation">,</span>\n    rules<span class="token operator">:</span> <span class="token punctuation">{</span>\n        <span class="token string">&#39;jquery/a-rule&#39;</span><span class="token operator">:</span> <span class="token string">&#39;error&#39;</span><span class="token punctuation">,</span>\n        <span class="token string">&#39;@foo/foo/some-rule&#39;</span><span class="token operator">:</span> <span class="token string">&#39;error&#39;</span><span class="token punctuation">,</span>\n        <span class="token string">&#39;@bar/another-rule&#39;</span><span class="token operator">:</span> <span class="token string">&#39;error&#39;</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span>\n\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p><strong>è§„åˆ™ rules</strong></p>',23),w=(0,e.Uk)("ESLint æä¾›äº†å¤§é‡å†…ç½®çš„è§„åˆ™("),P={href:"https://eslint.org/docs/rules/",target:"_blank",rel:"noopener noreferrer"},U=(0,e.Uk)("ESLint Rules"),J=(0,e.Uk)(")ï¼Œé™¤æ­¤ä¹‹å¤–ä½ è¿˜å¯ä»¥é€šè¿‡æ’ä»¶æ¥æ·»åŠ æ›´å¤šçš„è§„åˆ™ã€‚"),C=(0,e.uE)('<p>è§„åˆ™çš„æ ¡éªŒè¯´æ˜ï¼Œæœ‰ 3 ä¸ªæŠ¥é”™ç­‰çº§</p><ul><li>off æˆ– 0ï¼šå…³é—­å¯¹è¯¥è§„åˆ™çš„æ ¡éªŒï¼›</li><li>warn æˆ– 1ï¼šå¯ç”¨è§„åˆ™ï¼Œä¸æ»¡è¶³æ—¶æŠ›å‡ºè­¦å‘Šï¼Œä¸”ä¸ä¼šé€€å‡ºç¼–è¯‘è¿›ç¨‹ï¼›</li><li>error æˆ– 2ï¼šå¯ç”¨è§„åˆ™ï¼Œä¸æ»¡è¶³æ—¶æŠ›å‡ºé”™è¯¯ï¼Œä¸”ä¼šé€€å‡ºç¼–è¯‘è¿›ç¨‹ï¼›</li></ul><p>é€šå¸¸è§„åˆ™åªéœ€è¦é…ç½®å¼€å¯è¿˜æ˜¯å…³é—­å³å¯ï¼›ä½†æ˜¯ä¹Ÿæœ‰äº›è§„åˆ™å¯ä»¥ä¼ å…¥å±æ€§ï¼Œæ¯”å¦‚ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">{</span>\n    rules<span class="token operator">:</span> <span class="token punctuation">{</span>\n        <span class="token string">&#39;quotes&#39;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;error&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;single&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token comment">// å¦‚æœä¸æ˜¯å•å¼•å·ï¼Œåˆ™æŠ¥é”™</span>\n        <span class="token string">&#39;one-var&#39;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;error&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>\n            <span class="token string">&#39;var&#39;</span><span class="token operator">:</span> <span class="token string">&#39;always&#39;</span><span class="token punctuation">,</span>  <span class="token comment">// æ¯ä¸ªå‡½æ•°ä½œç”¨åŸŸä¸­ï¼Œåªå…è®¸ 1 ä¸ª var å£°æ˜</span>\n            <span class="token string">&#39;let&#39;</span><span class="token operator">:</span> <span class="token string">&#39;never&#39;</span><span class="token punctuation">,</span>   <span class="token comment">// æ¯ä¸ªå—ä½œç”¨åŸŸä¸­ï¼Œå…è®¸å¤šä¸ª let å£°æ˜</span>\n            <span class="token string">&#39;const&#39;</span><span class="token operator">:</span> <span class="token string">&#39;never&#39;</span><span class="token punctuation">,</span> <span class="token comment">// æ¯ä¸ªå—ä½œç”¨åŸŸä¸­ï¼Œå…è®¸å¤šä¸ª const å£°æ˜</span>\n        <span class="token punctuation">}</span><span class="token punctuation">]</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>è§„åˆ™çš„ä¼˜å…ˆçº§</p><ul><li>å¦‚æœ extends é…ç½®çš„æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œé‚£ä¹ˆæœ€ç»ˆä¼šå°†æ‰€æœ‰è§„åˆ™é¡¹è¿›è¡Œåˆå¹¶ï¼Œå‡ºç°å†²çªçš„æ—¶å€™ï¼Œåé¢çš„ä¼šè¦†ç›–å‰é¢çš„ï¼›</li><li>é€šè¿‡ rules å•ç‹¬é…ç½®çš„è§„åˆ™ä¼˜å…ˆçº§æ¯” extends é«˜ï¼›</li></ul><p><strong>ESLint æ£€æµ‹é…ç½®æ–‡ä»¶</strong></p><ul><li>åœ¨è¦æ£€æµ‹çš„æ–‡ä»¶åŒä¸€ç›®å½•é‡Œå¯»æ‰¾ .eslintrc.* å’Œ package.jsonï¼›</li><li>ç´§æ¥ç€åœ¨çˆ¶çº§ç›®å½•é‡Œå¯»æ‰¾ï¼Œä¸€ç›´åˆ°æ–‡ä»¶ç³»ç»Ÿçš„æ ¹ç›®å½•ï¼›</li><li>å¦‚æœåœ¨å‰ä¸¤æ­¥å‘ç°æœ‰ rootï¼štrue çš„é…ç½®ï¼Œåœæ­¢åœ¨çˆ¶çº§ç›®å½•ä¸­å¯»æ‰¾ .eslintrcï¼›</li><li>å¦‚æœä»¥ä¸Šæ­¥éª¤éƒ½æ²¡æœ‰æ‰¾åˆ°ï¼Œåˆ™å›é€€åˆ°ç”¨æˆ·ä¸»ç›®å½• ~/.eslintrc ä¸­è‡ªå®šä¹‰çš„é»˜è®¤é…ç½®ï¼›</li></ul><p>é€šå¸¸æˆ‘ä»¬éƒ½ä¹ æƒ¯æŠŠ ESLint é…ç½®æ–‡ä»¶æ”¾åˆ°é¡¹ç›®æ ¹ç›®å½•ï¼Œå› æ­¤å¯ä»¥ä¸ºäº†é¿å… ESLint æ ¡éªŒçš„æ—¶å€™å¾€çˆ¶çº§ç›®å½•æŸ¥æ‰¾é…ç½®æ–‡ä»¶ï¼Œæ‰€ä»¥éœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­åŠ ä¸Š <code>root: true</code>ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">{</span>\n  root<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span>\n\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>settings å…±äº«æ•°æ®</strong></p><p>ESLint æ”¯æŒåœ¨é…ç½®æ–‡ä»¶æ·»åŠ å…±äº«è®¾ç½®ï¼Œä½ å¯ä»¥æ·»åŠ  settings å¯¹è±¡åˆ°é…ç½®æ–‡ä»¶ï¼Œå®ƒå°†æä¾›ç»™æ¯ä¸€ä¸ªå°†è¢«æ‰§è¡Œçš„è§„åˆ™ã€‚å¦‚æœä½ æƒ³æ·»åŠ çš„è‡ªå®šä¹‰è§„åˆ™è€Œä¸”ä½¿å®ƒä»¬å¯ä»¥è®¿é—®åˆ°ç›¸åŒçš„ä¿¡æ¯ï¼Œè¿™å°†ä¼šå¾ˆæœ‰ç”¨</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">{</span>\n    settings<span class="token operator">:</span> <span class="token punctuation">{</span>\n        sharedData<span class="token operator">:</span> <span class="token string">&#39;Hello&#39;</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span>\n\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>overrides å·®å¼‚åŒ–é…ç½®</strong></p><p>æ¯”å¦‚ webpack çš„ä¸­åŒ…å«äº†æŸäº›è¿è¡Œæ—¶çš„ JS æ–‡ä»¶ï¼Œè€Œè¿™äº›æ–‡ä»¶æ˜¯åªè·‘åœ¨æµè§ˆå™¨ç«¯çš„ï¼Œæ‰€ä»¥éœ€è¦é’ˆå¯¹è¿™éƒ¨åˆ†æ–‡ä»¶è¿›è¡Œå·®å¼‚åŒ–é…ç½®ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>overrides<span class="token operator">:</span> <span class="token punctuation">[</span>\n  <span class="token punctuation">{</span>\n    files<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;lib/**/*.runtime.js&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;hot/*.js&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n    env<span class="token operator">:</span> <span class="token punctuation">{</span>\n      es6<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>\n      browser<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    globals<span class="token operator">:</span> <span class="token punctuation">{</span>\n      Promise<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    parserOptions<span class="token operator">:</span> <span class="token punctuation">{</span>\n      ecmaVersion<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n<span class="token punctuation">]</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h4 id="ä½¿ç”¨-1" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨-1" aria-hidden="true">#</a> ä½¿ç”¨</h4><p><strong>å®‰è£… ESLint</strong></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> i eslint -D\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p><strong>ä¸‹è½½ ESLint æ’ä»¶ï¼ˆVSCodeï¼‰</strong></p><p><strong>é…ç½® ESLint</strong></p><p>ESLint å®‰è£…æˆåŠŸåï¼Œæ‰§è¡Œ <code>npx eslint --init</code>ï¼Œç„¶åæŒ‰ç…§ç»ˆç«¯æ“ä½œæç¤ºå®Œæˆä¸€ç³»åˆ—è®¾ç½®æ¥åˆ›å»ºé…ç½®æ–‡ä»¶ã€‚</p>',22),T=(0,e.Uk)("ESLint ä¸ºæˆ‘ä»¬åˆ—å‡ºäº†ä¸‰ç§ç¤¾åŒºæµè¡Œçš„ JavaScript é£æ ¼æŒ‡å—ï¼Œåˆ†åˆ«æ˜¯ "),V={href:"https://github.com/airbnb/javascript",target:"_blank",rel:"noopener noreferrer"},A=(0,e.Uk)("Airbnb"),W=(0,e.Uk)("ã€"),O={href:"https://github.com/standard/standard",target:"_blank",rel:"noopener noreferrer"},D=(0,e.Uk)("Standard"),G=(0,e.Uk)("ã€Googleã€‚ GitHub ä¸Š star æœ€å¤šçš„æ˜¯ Airbnbï¼Œå¯ä»¥ç›´æ¥é€‰ç”¨ Airbnbï¼Œå…å»ç¹ççš„é…ç½® ESLint è§„åˆ™æ—¶é—´ï¼Œç„¶åè®©å›¢é˜Ÿæˆå‘˜å»å­¦ä¹  Airbnb JavaScript é£æ ¼æŒ‡å—å³å¯ã€‚"),H=(0,e.uE)('<p>é…ç½®å®Œæˆåä¼šåœ¨æ ¹ç›®å½•ç”Ÿæˆ<code>.eslintrc.js</code>ï¼Œæ ¹æ®é¡¹ç›®å®é™…æƒ…å†µï¼Œå¦‚æœæˆ‘ä»¬æœ‰é¢å¤–çš„ ESLint è§„åˆ™ï¼Œä¹Ÿåœ¨æ­¤æ–‡ä»¶ä¸­è¿½åŠ ã€‚</p><p>ä¾‹å¦‚ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>\n  env<span class="token operator">:</span> <span class="token punctuation">{</span>\n    browser<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n    es2021<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n    node<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;plugin:vue/essential&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;airbnb-base&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n  parserOptions<span class="token operator">:</span> <span class="token punctuation">{</span>\n    ecmaVersion<span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>\n    <span class="token comment">// æŒ‡å®šè§£æå™¨</span>\n    parser<span class="token operator">:</span> <span class="token string">&quot;@typescript-eslint/parser&quot;</span><span class="token punctuation">,</span>\n    sourceType<span class="token operator">:</span> <span class="token string">&quot;module&quot;</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;vue&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;@typescript-eslint&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n  rules<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p><strong>è®¾ç½®ä¿å­˜è‡ªåŠ¨æ ¼å¼åŒ–</strong></p><p>VSCode åœ¨ <code>settings.json</code> è®¾ç½®æ–‡ä»¶ä¸­ï¼Œå¢åŠ ä»¥ä¸‹ä»£ç ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code> <span class="token string">&quot;editor.codeActionsOnSave&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n    <span class="token string">&quot;source.fixAll.eslint&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>\n <span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>å‘½ä»¤è¡Œæ ¡éªŒæ–‡ä»¶</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// æ ¡éªŒ a.js å’Œ b.js</span>\nnpx eslint a<span class="token punctuation">.</span>js b<span class="token punctuation">.</span>js\n\n<span class="token comment">// æ ¡éªŒ src å’Œ scripts ç›®å½•</span>\nnpx eslint src scripts\n\n<span class="token comment">// é€šè¿‡ --ext æ¥æŒ‡å®šå…·ä½“éœ€è¦æ ¡éªŒçš„æ–‡ä»¶ï¼ŒESLint åªèƒ½æ ¡éªŒ JS æ–‡ä»¶ï¼Œ</span>\n<span class="token comment">//å¦‚å½“æ ¡éªŒ .vue æ–‡ä»¶ï¼Œå…‰é…ç½® vue æ’ä»¶å’Œ vue-eslint-parser è§£æå™¨æ˜¯ä¸å¤Ÿçš„</span>\nnpx eslint <span class="token operator">--</span>ext <span class="token punctuation">.</span>js<span class="token punctuation">,</span><span class="token punctuation">.</span>jsx<span class="token punctuation">,</span><span class="token punctuation">.</span>vue src\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><strong>è‡ªåŠ¨ä¿®å¤éƒ¨åˆ†æ ¡éªŒé”™è¯¯çš„ä»£ç </strong></p><p>rules åˆ—è¡¨é¡¹ä¸­æ ‡è¯†äº†ä¸€ä¸ªæ‰³æ‰‹ ğŸ”§ å›¾æ¡ˆçš„è§„åˆ™å°±æ ‡è¯†è¯¥è§„åˆ™æ˜¯å¯ä»¥é€šè¿‡ ESLint å·¥å…·è‡ªåŠ¨ä¿®å¤ä»£ç çš„ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>npx eslint <span class="token operator">--</span>fix a<span class="token punctuation">.</span>js\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>ä¸€èˆ¬è¾ƒé•¿å‘½ä»¤å†™åœ¨ pakeage.json</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>  <span class="token punctuation">{</span>\n    <span class="token string">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n        <span class="token string">&quot;lint&quot;</span><span class="token operator">:</span> <span class="token string">&quot;npx eslint --ext .js,.jsx,.vue src&quot;</span><span class="token punctuation">,</span>\n        <span class="token string">&quot;lint:fix&quot;</span><span class="token operator">:</span> <span class="token string">&quot;npx eslint --fix --ext .js,.jsx,.vue src&quot;</span><span class="token punctuation">,</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>å¿½ç•¥æ ¡éªŒæ–‡ä»¶</strong></p><p>ESLint æ€»æ˜¯å¿½ç•¥ <code>/node_modules/</code> å’Œ <code>/bower_components/</code> ä¸­çš„æ–‡ä»¶ï¼Œå¯¹äºä¸€äº›å…¬å…±çš„ JSã€æµ‹è¯•è„šæœ¬æˆ–è€…æ˜¯ç‰¹å®šç›®å½•ä¸‹çš„æ–‡ä»¶ä¹ æƒ¯ä¸Šæ˜¯ä¸éœ€è¦æ ¡éªŒçš„ï¼Œå› æ­¤å¯ä»¥åœ¨é¡¹ç›®æ ¹ç›®å½•é€šè¿‡åˆ›å»ºä¸€ä¸ª <code>.eslintignore</code> æ–‡ä»¶æ¥é…ç½®</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">public</span><span class="token operator">/</span><span class="token punctuation">;</span>\nsrc<span class="token operator">/</span>main<span class="token punctuation">.</span>js\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="è§£å†³-prettier-å’Œ-eslint-çš„å†²çª" tabindex="-1"><a class="header-anchor" href="#è§£å†³-prettier-å’Œ-eslint-çš„å†²çª" aria-hidden="true">#</a> è§£å†³ Prettier å’Œ ESLint çš„å†²çª</h3><p>ä½†åœ¨é¡¹ç›®ä¸­åŒæ—¶ä½¿ç”¨<code>Prettier</code> å’Œ <code>ESLint</code>æ—¶ï¼Œè§„åˆ™å¯èƒ½å…³äºå‘ç”Ÿå†²çªã€‚ä¾‹å¦‚<code>Airbnb JavaScript</code> é£æ ¼ä¸­ä»£ç ç»“æŸåé¢è¦åŠ åˆ†å·ï¼Œ<code>Prettier</code> é…ç½®æ–‡ä»¶ä¸­å¦‚æœåŠ äº†ä»£ç ç»“æŸåé¢ä¸åŠ åˆ†å·çš„é…ç½®é¡¹ï¼Œè¿™æ ·å°±æœ‰å†²çªäº†ï¼Œä¼šå‡ºç°ç”¨ <code>Prettier</code> æ ¼å¼åŒ–åçš„ä»£ç ï¼Œ<code>ESLint</code> æ£€æµ‹åˆ°æ ¼å¼æœ‰é—®é¢˜çš„ï¼Œä»è€ŒæŠ›å‡ºé”™è¯¯æç¤ºã€‚</p><p>è§£å†³ä¸¤è€…å†²çªé—®é¢˜ï¼Œéœ€è¦ç”¨åˆ° <strong>eslint-plugin-prettier</strong> å’Œ <strong>eslint-config-prettier</strong>ã€‚</p><ul><li><code>eslint-plugin-prettier</code> å°† Prettier çš„è§„åˆ™è®¾ç½®åˆ° ESLint çš„è§„åˆ™ä¸­ã€‚</li><li><code>eslint-config-prettier</code> å…³é—­ ESLint ä¸­ä¸ Prettier ä¸­ä¼šå‘ç”Ÿå†²çªçš„è§„åˆ™ã€‚</li></ul><p>æœ€åå½¢æˆä¼˜å…ˆçº§ï¼š<code>Prettier é…ç½®è§„åˆ™</code> &gt; <code>ESLint é…ç½®è§„åˆ™</code>ã€‚</p><p><strong>ä½¿ç”¨</strong></p><p>å®‰è£…æ’ä»¶</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> i eslint-plugin-prettier eslint-config-prettier -D\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>åœ¨ <code>.eslintrc.js</code> æ·»åŠ  prettier æ’ä»¶</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>\n  <span class="token operator">...</span>\n  <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span>\n    <span class="token string">&#39;plugin:prettier/recommended&#39;</span> <span class="token comment">// æ·»åŠ  prettier æ’ä»¶</span>\n  <span class="token punctuation">]</span><span class="token punctuation">,</span>\n  <span class="token operator">...</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>è¿™æ ·ï¼Œæˆ‘ä»¬åœ¨æ‰§è¡Œ <code>eslint --fix</code> å‘½ä»¤æ—¶ï¼ŒESLint å°±ä¼šæŒ‰ç…§ Prettier çš„é…ç½®è§„åˆ™æ¥æ ¼å¼åŒ–ä»£ç </p><h3 id="é›†æˆ-husky-å’Œ-lint-staged" tabindex="-1"><a class="header-anchor" href="#é›†æˆ-husky-å’Œ-lint-staged" aria-hidden="true">#</a> é›†æˆ husky å’Œ lint-staged</h3><p>æˆ‘ä»¬å¯ä»¥åšä¸€äº›é™åˆ¶ï¼Œè®©æ²¡é€šè¿‡ ESLint æ£€æµ‹å’Œä¿®å¤çš„ä»£ç ç¦æ­¢æäº¤ï¼Œä»è€Œä¿è¯ä»“åº“ä»£ç éƒ½æ˜¯ç¬¦åˆè§„èŒƒçš„ã€‚ æˆ‘ä»¬éœ€è¦ç”¨åˆ° Git Hookï¼Œåœ¨æœ¬åœ°æ‰§è¡Œ git commit çš„æ—¶å€™ï¼Œå°±å¯¹æ‰€æäº¤çš„ä»£ç è¿›è¡Œ ESLint æ£€æµ‹å’Œä¿®å¤ï¼ˆå³æ‰§è¡Œ eslint --fixï¼‰</p><ul><li>husky â€”â€” Git Hook å·¥å…·ï¼Œå¯ä»¥è®¾ç½®åœ¨ git å„ä¸ªé˜¶æ®µï¼ˆpre-commitã€commit-msgã€pre-push ç­‰ï¼‰è§¦å‘æˆ‘ä»¬çš„å‘½ä»¤ã€‚</li><li>lint-staged â€”â€” åœ¨ git æš‚å­˜çš„æ–‡ä»¶ä¸Šè¿è¡Œ lintersã€‚</li></ul><p><strong>é…ç½® husky</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>npx husky<span class="token operator">-</span>init <span class="token operator">&amp;&amp;</span> npm install\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>ä¿®æ”¹ <code>.husky/pre-commit</code> hook æ–‡ä»¶çš„è§¦å‘å‘½ä»¤ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>eslint <span class="token operator">--</span>fix <span class="token punctuation">.</span><span class="token operator">/</span>src <span class="token operator">--</span>ext <span class="token punctuation">.</span>vue<span class="token punctuation">,</span><span class="token punctuation">.</span>js<span class="token punctuation">,</span><span class="token punctuation">.</span>ts\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p><strong>é…ç½® lint-staged</strong></p><p>lint-staged è¿™ä¸ªå·¥å…·ä¸€èˆ¬ç»“åˆ husky æ¥ä½¿ç”¨ï¼Œå®ƒå¯ä»¥è®© husky çš„ hook è§¦å‘çš„å‘½ä»¤åªä½œç”¨äº git add é‚£äº›æ–‡ä»¶ï¼ˆå³ git æš‚å­˜åŒºçš„æ–‡ä»¶ï¼‰ï¼Œè€Œä¸ä¼šå½±å“åˆ°å…¶ä»–æ–‡ä»¶ã€‚</p><p>å®‰è£… lint-staged</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>npm i lint<span class="token operator">-</span>staged <span class="token operator">-</span><span class="token constant">D</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>åœ¨ package.json é‡Œå¢åŠ  lint-staged é…ç½®é¡¹</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token string">&quot;lint-staged&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n  <span class="token string">&quot;*.{vue,js,ts}&quot;</span><span class="token operator">:</span> <span class="token string">&quot;eslint --fix&quot;</span>\n<span class="token punctuation">}</span><span class="token punctuation">,</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>ä¿®æ”¹ <code>.husky/pre-commit</code> hook çš„è§¦å‘å‘½ä»¤ä¸ºï¼š<code>npx lint-staged</code></p><p>è¯¦ç»†æ“ä½œè§å‚è€ƒé“¾æ¥</p><hr>',43),R=(0,e._)("p",null,"å‚è€ƒé“¾æ¥",-1),B={href:"https://juejin.cn/post/6974223481181306888#heading-26",target:"_blank",rel:"noopener noreferrer"},I=(0,e.Uk)("ESLint å¼€å§‹ï¼Œè¯´é€æˆ‘å¦‚ä½•åœ¨å›¢é˜Ÿé¡¹ç›®ä¸­åŸºäº Vue åšä»£ç æ ¡éªŒ"),N={render:function(n,s){const a=(0,e.up)("OutboundLink");return(0,e.wg)(),(0,e.iD)(e.HY,null,[p,t,o,(0,e._)("ul",null,[(0,e._)("li",null,[(0,e._)("a",l,[r,(0,e.Wm)(a)])]),(0,e._)("li",null,[(0,e._)("a",c,[i,(0,e.Wm)(a)])]),(0,e._)("li",null,[(0,e._)("a",u,[b,(0,e.Wm)(a)])])]),k,(0,e._)("p",null,[d,m,g,(0,e._)("a",v,[h,(0,e.Wm)(a)])]),f,(0,e._)("p",null,[j,(0,e._)("a",S,[x,(0,e.Wm)(a)]),y]),E,(0,e._)("p",null,[(0,e._)("a",_,[L,(0,e.Wm)(a)])]),q,(0,e._)("p",null,[w,(0,e._)("a",P,[U,(0,e.Wm)(a)]),J]),C,(0,e._)("p",null,[T,(0,e._)("a",V,[A,(0,e.Wm)(a)]),W,(0,e._)("a",O,[D,(0,e.Wm)(a)]),G]),H,(0,e._)("blockquote",null,[R,(0,e._)("p",null,[(0,e._)("a",B,[I,(0,e.Wm)(a)])])])],64)}}}}]);